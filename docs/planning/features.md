# 기능 명세 (Feature Specifications)

## 1. 핵심 기능 (Core Features)
### 🎵 YouTube Player Integration
- **영상 재생**: YouTube 영상을 앱 내에서 바로 재생합니다.
- **재생 제어**: 재생/일시정지, 영상 탐색(Skip) 등 기본적인 플레이어 기능을 제공합니다.

### 🤖 AI Curator (Gemini)
- **AI 큐레이터**: AI가 영상의 내용을 분석하여 실시간으로 가사 데이터를 생성합니다.
- **가사 생성**: 원문 가사뿐만 아니라 발음(Pronunciation)과 해석(Translation)까지 자동으로 생성합니다.
- **힌트 제공**: 사용자가 정확한 생성을 위해 가수나 노래 제목 등 힌트를 줄 수 있습니다.

### ✨ AI Lyrics Enrichment
- **가사 채우기**: 검색해온 가사에 발음이나 해석이 없는 경우, AI가 부족한 정보를 자동으로 채워줍니다.
- **자동 감지**: 불완전한 가사가 로드되면 "AI로 채우기" 버튼이 자동으로 활성화됩니다.

### 🔍 Lyrics Search & Sync
- **가사 검색**: 전 세계 노래 가사 데이터베이스(LRCLIB)에서 원하는 곡을 검색합니다.
- **싱크 매핑**: 검색된 가사를 현재 재생 중인 유튜브 영상과 연결(Mapping)하여 저장합니다.
- **클라우드 공유**: 매핑된 가사 정보와 싱크 오프셋은 **Supabase**에 저장되어 모든 사용자가 공유할 수 있습니다.
- **스마트 정렬**: 영상 길이와 가장 비슷한 결과물을 우선적으로 보여주어 정확도를 높입니다.

### 📝 Lyrics Display System
- **3단 가사 보기**: [원문] - [발음] - [해석]을 한눈에 볼 수 있는 3단 구조를 제공합니다.
- **맞춤형 토글**: 발음이나 해석이 필요 없을 경우 켜고 끌 수 있습니다.
- **자동 스크롤**: 노래 재생에 맞춰 현재 가사가 강조되고 자동으로 스크롤됩니다.
- **미니 뷰어**: 플레이어 화면 하단에 현재 가사 3줄을 간략하게 보여줍니다.

### 🌍 Internationalization (다국어 지원)
- **지원 언어**: 한국어(KO), 영어(EN), 베트남어(VI).
- **자동 설정**: 사용자의 브라우저 설정에 맞춰 언어가 자동으로 적용됩니다.

## 2. 사용자 편의 기능 (UX)
### ⏯️ Player Controls
- **재생 컨트롤**: 재생/일시정지, 10초 건너뛰기, 탐색 바 등 영상 제어 기능.
- **자막 컨트롤**:
  - **배속 조절**: 0.5배속 ~ 2.0배속까지 속도 조절 가능.
  - **싱크 조절**: 영상과 가사가 맞지 않을 때 미세하게 조정(±0.1초 등) 가능.
  - **가사 변경**: 언제든지 다른 가사로 다시 검색하거나 변경 가능.
- **정보 새로고침**: 영상 정보가 제대로 로드되지 않았을 때 다시 불러오는 기능.

### 📚 My Library (History)
- **히스토리 자동 저장**: 시청한 영상 기록(History)은 로컬 스토리지에 자동 저장됩니다.
- **가사 데이터 연동**: 저장된 히스토리를 통해 Supabase에 저장된 가사 데이터를 불러옵니다.
- **이어보기**: 나중에 다시 접속해도 이전에 학습하던 상태 그대로 영상을 볼 수 있습니다.

## 3. 설정 (Settings)
- **발음/해석 표시 설정**: 학습 스타일에 따라 UI를 커스터마이징 할 수 있습니다.
- **API 키 관리**: 사용자가 본인의 Gemini API 키를 안전하게 등록하고 사용할 수 있습니다.
