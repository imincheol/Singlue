{
    "order_id": "20251219_02",
    "title": "재생목록(Playlist) 및 자동 재생 기능 구현",
    "type": "FEATURE",
    "status": "OPEN",
    "created_at": "2025-12-19 12:30:00",
    "context": {
        "request_summary": "내 보관함/공개 보관함의 연속 재생, 셔플, 반복 재생 및 플레이어 내 재생목록 패널 구현",
        "related_docs": [
            "docs/planning/features.md",
            "docs/planning/ui_ux_spec.md"
        ],
        "findings_from_previous_attempt": [
            "PlayerPage 레이아웃에서 Sidebar 모드와 Mobile Drawer 모드 간 전환 시 PlaylistPanel 위치 조정 필요 -> embedded 모드 추가하여 해결.",
            "Repeat One 모드에서 자동 재생 시 상태 갱신 문제 -> requestSeek(0) 활용하여 해결.",
            "Shuffle은 원본 대기열(originalQueue)을 보존하는 방식으로 구현하여 Shuffle 해제 시 순서 복원 기능 지원."
        ]
    },
    "reviews": {
        "planning": "연속 시청 경험 제공을 위해 재생 대기열(Queue) 시스템 도입. 자동 재생 및 셔플/반복 모드 지원 필요.",
        "design": "PlayerPage 내 우측 패널(Desktop) 또는 모달/Drawer(Mobile) 형태로 재생목록 표시. LibraryPage에 '모두 재생' 버튼 배치.",
        "markup": "접근성을 고려한 리스트 반환 및 컨트롤러 버튼(aria-label) 추가.",
        "development": "Zustand Store에 Queue, RepeatMode, ShuffleState 추가. Fisher-Yates Shuffle 알고리즘 적용."
    },
    "plan_specs": [
        "docs/planning/features.md",
        "docs/planning/ui_ux_spec.md"
    ],
    "requirements": [
        "라이브러리 페이지에 '전체 재생', '셔플 재생' 버튼 추가",
        "플레이어 페이지에 재생목록 패널(PlaylistPanel) 추가 및 토글 기능",
        "Zustand Store: Queue, currentIndex, repeatMode, isShuffle 상태 관리",
        "영상 종료 시 자동 재생(Autoplay) 및 다음 곡 전환",
        "플레이어 컨트롤러에 이전/다음/셔플/반복 버튼 추가"
    ],
    "expected_files": [
        "src/store/useAppStore.ts",
        "src/pages/PlayerPage.tsx",
        "src/pages/LibraryPage.tsx",
        "src/components/PlaylistPanel.tsx",
        "src/components/PlayerControls.tsx"
    ]
}